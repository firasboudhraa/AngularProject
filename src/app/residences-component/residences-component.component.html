<div class="container">
  <!-- Search Input -->
  <div class="row justify-content-center my-3">
    <div class="col-md-6">
      <input 
        type="text" 
        [(ngModel)]="search" 
        class="form-control form-control-lg rounded-pill px-4 shadow-sm" 
        placeholder="ğŸ” Rechercher une rÃ©sidence..."
      >
    </div>
  </div>
  <div class="container">
  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let r of listResidences">
      <div *ngIf="r.name == search || search == ''">
      <div class="card residence-card">
        <img [src]="r.image" alt="{{ r.name }}" class="card-img-top residence-img">
        <div class="card-body">
          <h5 class="card-title">{{ r.name }}</h5>
          <p class="card-text">{{ r.address }}</p>

          <div [ngSwitch]="r.status">
            <span *ngSwitchCase="'Disponible'" class="badge bg-success">ğŸŸ¢ Disponible</span>
            <span *ngSwitchCase="'En Construction'" class="badge bg-warning text-dark">ğŸŸ  En Construction</span>
            <span *ngSwitchCase="'Vendu'" class="badge bg-danger">ğŸ”´ Vendu</span>
          </div>

          <div class="button-group mt-2">
            <button class="btn btn-info" (click)="showLocation(r)">ğŸ“ Show Location</button>
            <button class="btn btn-primary" (click)="addToFavorites(r)">â¤ï¸ Like</button>
            <button class="btn btn-secondary" [routerLink]="['/residenceDetail', r.id]">â„¹ï¸ Details</button>
            <button class="btn btn-warning" [routerLink]="['/modify-residence', r.id]">âœï¸ Modifier</button>
            <button class="btn btn-danger" (click)="delete(r.id)">ğŸ—‘ï¸ Supprimer</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<h3>â­ RÃ©sidences Favorites :</h3>
<ul *ngIf="favorites.length > 0; else noFavorites" class="list-group">
  <li *ngFor="let fav of favorites" class="list-group-item d-flex align-items-center">
    <img [src]="fav.image" alt="{{ fav.name }}" class="residence-img me-2" style="width: 50px; height: 50px; border-radius: 50%;">
    <p class="mb-0">{{ fav.name }}</p>
  </li>
</ul>

<ng-template #noFavorites>
  <p>Aucune rÃ©sidence favorite pour le moment.</p>
</ng-template>

<button routerLink="/add-residence" class="btn btn-success mt-3">â• Add RÃ©sidence</button>
